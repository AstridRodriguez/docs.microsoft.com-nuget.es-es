---
title: Formas de instalar paquetes NuGet | Microsoft Docs
author: kraigb
ms.author: kraigb
manager: ghogen
ms.date: 02/12/2018
ms.topic: overview
ms.prod: nuget
ms.technology: ''
description: Describe el proceso de instalación de paquetes de NuGet en un proyecto, que incluye lo que sucede en el disco y a los correspondientes archivos de proyecto.
keywords: instalar NuGet, consumo de paquetes NuGet, instalar paquetes NuGet, referencias de paquetes NuGet
ms.reviewer:
- karann-msft
- unniravindranathan
ms.workload:
- dotnet
- aspnet
ms.openlocfilehash: b8cce7bd6c1bd73eb018b8891ddd72b2f4432d55
ms.sourcegitcommit: beb229893559824e8abd6ab16707fd5fe1c6ac26
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 03/28/2018
---
# <a name="different-ways-to-install-a-nuget-package"></a><span data-ttu-id="4ffc7-104">Distintas formas de instalar un paquete NuGet</span><span class="sxs-lookup"><span data-stu-id="4ffc7-104">Different ways to install a NuGet Package</span></span>

<span data-ttu-id="4ffc7-105">Los paquetes NuGet se descargan e instalan con cualquiera de los métodos de la tabla siguiente (vea [Instalación de las herramientas del cliente NuGet](../install-nuget-client-tools.md) si todavía no se han instalado).</span><span class="sxs-lookup"><span data-stu-id="4ffc7-105">NuGet packages are downloaded and installed using any of the methods in the following table (see [Install NuGet client tools](../install-nuget-client-tools.md) if you don't have these installed already).</span></span> <span data-ttu-id="4ffc7-106">El paquete se puede recuperar de una memoria caché en lugar de descargarlo.</span><span class="sxs-lookup"><span data-stu-id="4ffc7-106">The package may be retrieved from a cache instead of downloaded.</span></span>

| <span data-ttu-id="4ffc7-107">Método</span><span class="sxs-lookup"><span data-stu-id="4ffc7-107">Method</span></span> | <span data-ttu-id="4ffc7-108">Description</span><span class="sxs-lookup"><span data-stu-id="4ffc7-108">Description</span></span> |
| --- | --- |
| <span data-ttu-id="4ffc7-109">CLI de dotnet.exe</span><span class="sxs-lookup"><span data-stu-id="4ffc7-109">dotnet.exe CLI</span></span><br/>`dotnet add package <package_name>` | <span data-ttu-id="4ffc7-110">(Todas las plataformas) Recupera el paquete identificado con \<package_name\>, expande su contenido en una carpeta del directorio actual y agrega una referencia al archivo de proyecto.</span><span class="sxs-lookup"><span data-stu-id="4ffc7-110">(All platforms) Retrieves the package identified by \<package_name\>, expands its contents into a folder in the current directory, and adds a reference to the project file.</span></span> <span data-ttu-id="4ffc7-111">También recupera e instala las dependencias.</span><span class="sxs-lookup"><span data-stu-id="4ffc7-111">Also retrieves and installs dependencies.</span></span><ul><li>[<span data-ttu-id="4ffc7-112">Instalar y usar un paquete (CLI de dotnet)</span><span class="sxs-lookup"><span data-stu-id="4ffc7-112">Install and use a package (dotnet CLI)</span></span>](../quickstart/install-and-use-a-package-using-the-dotnet-cli.md)</li><li>[<span data-ttu-id="4ffc7-113">Comando dotnet add package</span><span class="sxs-lookup"><span data-stu-id="4ffc7-113">dotnet add package command</span></span>](/dotnet/core/tools/dotnet-add-package)</li></ul> |
| <span data-ttu-id="4ffc7-114">Interfaz de usuario del Administrador de paquetes (Visual Studio)</span><span class="sxs-lookup"><span data-stu-id="4ffc7-114">Package Manager UI (Visual Studio)</span></span> | <span data-ttu-id="4ffc7-115">(Windows and Mac) Ofrece una interfaz de usuario a través de la cual puede examinar, seleccionar e instalar paquetes con sus dependencias en un proyecto desde el origen del paquete especificado.</span><span class="sxs-lookup"><span data-stu-id="4ffc7-115">(Windows and Mac) Provides a UI through which you can browse, select, and install packages and their dependencies into a project from a specified package source.</span></span> <span data-ttu-id="4ffc7-116">Agrega las referencias a paquetes instalados en el archivo de proyecto.</span><span class="sxs-lookup"><span data-stu-id="4ffc7-116">Adds references to installed packages to the project file.</span></span><ul><li>[<span data-ttu-id="4ffc7-117">Instalar y usar un paquete (Visual Studio)</span><span class="sxs-lookup"><span data-stu-id="4ffc7-117">Install and use a package (Visual Studio)</span></span>](../quickstart/install-and-use-a-package-in-visual-studio.md)</li><li>[<span data-ttu-id="4ffc7-118">Referencia de la interfaz de usuario del Administrador de paquetes</span><span class="sxs-lookup"><span data-stu-id="4ffc7-118">Package Manager UI reference (Windows)</span></span>](../tools/package-manager-ui.md)</li><li>[<span data-ttu-id="4ffc7-119">Incluir un paquete NuGet en el proyecto (Mac)</span><span class="sxs-lookup"><span data-stu-id="4ffc7-119">Including a NuGet package in your project (Mac)</span></span>](/visualstudio/mac/nuget-walkthrough)</li></ul> |
| <span data-ttu-id="4ffc7-120">Consola del Administrador de paquetes (Visual Studio)</span><span class="sxs-lookup"><span data-stu-id="4ffc7-120">Package Manager Console (Visual Studio)</span></span><br/>`Install-Package <package_name>` | <span data-ttu-id="4ffc7-121">(Solo Windows) Recupera el paquete identificado con \<package_name\> del origen seleccionado, y lo instala en el proyecto de la solución que se especifique y luego agrega una referencia al archivo de proyecto.</span><span class="sxs-lookup"><span data-stu-id="4ffc7-121">(Windows only) Retrieves and installs the package identified by \<package_name\> from a selected source into a specified project in the solution, then adds a reference to the project file.</span></span> <span data-ttu-id="4ffc7-122">También recupera e instala las dependencias.</span><span class="sxs-lookup"><span data-stu-id="4ffc7-122">Also retrieves and installs dependencies.</span></span><ul><li>[<span data-ttu-id="4ffc7-123">Instalar y usar un paquete (Visual Studio)</span><span class="sxs-lookup"><span data-stu-id="4ffc7-123">Install and use a package (Visual Studio)</span></span>](../quickstart/install-and-use-a-package-in-visual-studio.md)</li><li>[<span data-ttu-id="4ffc7-124">Guía de la consola del Administrador de paquetes</span><span class="sxs-lookup"><span data-stu-id="4ffc7-124">Package Manager Console guide</span></span>](../tools/package-manager-console.md)</li></ul> |
| <span data-ttu-id="4ffc7-125">CLI de nuget.exe</span><span class="sxs-lookup"><span data-stu-id="4ffc7-125">nuget.exe CLI</span></span><br/>`nuget install <package_name>` | <span data-ttu-id="4ffc7-126">(Todas las plataformas) Recupera el paquete identificado con \<package_name\> y expande su contenido en una carpeta del directorio actual; también se pueden descargar todos los paquetes que aparecen en un archivo `packages.config`.</span><span class="sxs-lookup"><span data-stu-id="4ffc7-126">(All platforms) Retrieves the package identified by \<package_name\> and expands its contents into a folder in the current directory; can also retrieve all packages listed in a `packages.config` file.</span></span> <span data-ttu-id="4ffc7-127">También recupera e instala las dependencias, pero no realiza ningún cambio a los archivos de proyecto ni `packages.config`.</span><span class="sxs-lookup"><span data-stu-id="4ffc7-127">Also retrieves and installs dependencies, but makes no changes to project files or `packages.config`.</span></span><ul><li>[<span data-ttu-id="4ffc7-128">Comando install</span><span class="sxs-lookup"><span data-stu-id="4ffc7-128">install command</span></span>](../tools/cli-ref-install.md)</li></ul> |

## <a name="what-happens-when-a-package-is-installed"></a><span data-ttu-id="4ffc7-129">¿Qué ocurre cuando se instala un paquete?</span><span class="sxs-lookup"><span data-stu-id="4ffc7-129">What happens when a package is installed</span></span>

<span data-ttu-id="4ffc7-130">En pocas palabras, las distintas herramientas de NuGet suelen crear una referencia a un paquete en el archivo de proyecto o `packages.config` y luego realizan la restauración del paquete, lo que realmente instala el paquete.</span><span class="sxs-lookup"><span data-stu-id="4ffc7-130">Simply said, the different NuGet tools typically create a reference to a package in the project file or `packages.config`, then perform a package restore, which effectively installs the package.</span></span> <span data-ttu-id="4ffc7-131">La excepción es `nuget install`, que solo expande el paquete en una carpeta `packages` y no modifica ningún otro archivo.</span><span class="sxs-lookup"><span data-stu-id="4ffc7-131">The exception is `nuget install`, which only expands the package into a `packages` folder and does not modify any other files.</span></span>

<span data-ttu-id="4ffc7-132">El proceso general es el siguiente:</span><span class="sxs-lookup"><span data-stu-id="4ffc7-132">The general process is as follows:</span></span>

1. <span data-ttu-id="4ffc7-133">(Todas las herramientas excepto `nuget.exe`) Registra el identificador y la versión de paquete en el archivo de proyecto o en `packages.config`.</span><span class="sxs-lookup"><span data-stu-id="4ffc7-133">(All tools except `nuget.exe`) Record the package identifer and version into the project file or `packages.config`.</span></span>

1. <span data-ttu-id="4ffc7-134">Adquirir el paquete:</span><span class="sxs-lookup"><span data-stu-id="4ffc7-134">Acquire the package:</span></span>
    - <span data-ttu-id="4ffc7-135">Compruebe si el paquete (por el número de versión y el identificador exacto) ya está instalado en la carpeta *global-packages*, tal y como se describe en [Administración de paquetes globales y carpetas de caché](managing-the-global-packages-and-cache-folders.md).</span><span class="sxs-lookup"><span data-stu-id="4ffc7-135">Check if the package (by exact identifer and version number) is already installed in the *global-packages* folder as described on [Managing the global packages and cache folders](managing-the-global-packages-and-cache-folders.md).</span></span>

    - <span data-ttu-id="4ffc7-136">Si el paquete no se encuentra en la carpeta *global-packages*, intente recuperarlo de los orígenes indicados en los [archivos de configuración](Configuring-NuGet-Behavior.md).</span><span class="sxs-lookup"><span data-stu-id="4ffc7-136">If the package is not in the *global-packages* folder, attempt to retrieve it from the sources listed listed in the [configuration files](Configuring-NuGet-Behavior.md).</span></span> <span data-ttu-id="4ffc7-137">En el caso de los orígenes en línea, intente primero recuperar el paquete de la memoria caché, a menos que `-NoCache` se especifique con comandos `nuget.exe` o `--no-cache` se especifique con `dotnet restore`.</span><span class="sxs-lookup"><span data-stu-id="4ffc7-137">For online sources, attempt first to retrieve the package from the cache unless `-NoCache` is specified with `nuget.exe` commands or `--no-cache` is specified with `dotnet restore`.</span></span> <span data-ttu-id="4ffc7-138">(Visual Studio y `dotnet add package` utilizan siempre la memoria caché). Si se usa un paquete de la memoria caché, "CACHE" aparece en la salida.</span><span class="sxs-lookup"><span data-stu-id="4ffc7-138">(Visual Studio and `dotnet add package` always use the cache.) If a package is used from the cache, "CACHE" appears in the output.</span></span> <span data-ttu-id="4ffc7-139">La memoria caché tiene un plazo de expiración de 30 minutos.</span><span class="sxs-lookup"><span data-stu-id="4ffc7-139">The cache has an expiration time of 30 minutes.</span></span>

    - <span data-ttu-id="4ffc7-140">Si el paquete no está en la caché, intente descargarlo de los orígenes indicados en los archivos de configuración.</span><span class="sxs-lookup"><span data-stu-id="4ffc7-140">If the package is not in the cache, attempt to download it from the sources listed in the configuration.</span></span> <span data-ttu-id="4ffc7-141">Si se descarga un paquete, "GET" y "Aceptar" aparecen en la salida.</span><span class="sxs-lookup"><span data-stu-id="4ffc7-141">If a package is downloaded, "GET" and "OK" appear in the output.</span></span>

    - <span data-ttu-id="4ffc7-142">Si el paquete no se puede adquirir correctamente desde ningún origen, la instalación no se completa en este momento y genera un mensaje de error como, por ejemplo, [NU1103](../reference/errors-and-warnings.md#nu1103).</span><span class="sxs-lookup"><span data-stu-id="4ffc7-142">If the package cannot be successfully acquired from any sources, installation fails at this point with an error such as [NU1103](../reference/errors-and-warnings.md#nu1103).</span></span> <span data-ttu-id="4ffc7-143">Tenga en cuenta que los errores de los comandos `nuget.exe` solo muestran el último origen comprobado, pero esto implica que el paquete no estaba disponible en ningún origen.</span><span class="sxs-lookup"><span data-stu-id="4ffc7-143">Note that errors from `nuget.exe` commands show only the last source checked, but implies that the package wasn't available from any source.</span></span>

    <span data-ttu-id="4ffc7-144">Al adquirir el paquete, es posible que se aplique el orden de los orígenes en la configuración de NuGet:</span><span class="sxs-lookup"><span data-stu-id="4ffc7-144">When acquiring the package, the order of sources in the NuGet configuration may apply:</span></span>
      - <span data-ttu-id="4ffc7-145">En el caso de los proyectos con el formato PackageReference, NuGet comprueba la carpeta local de orígenes y los recursos compartidos de red antes comprobar los orígenes HTTP.</span><span class="sxs-lookup"><span data-stu-id="4ffc7-145">For projects using the PackageReference format, NuGet checks sources local folder and network shares before checking HTTP sources.</span></span>
      - <span data-ttu-id="4ffc7-146">En el caso de los proyectos que usan el formato de administración `packages.config`, NuGet sigue el orden de los orígenes en la configuración.</span><span class="sxs-lookup"><span data-stu-id="4ffc7-146">For projects using the `packages.config` management format, NuGet uses the order of the sources in the configuration.</span></span> <span data-ttu-id="4ffc7-147">Una excepción son las operaciones de restauración, en cuyo caso se omite el orden de los orígenes y NuGet usa el paquete del origen que responda primero.</span><span class="sxs-lookup"><span data-stu-id="4ffc7-147">An exception is restore operations, in which case source ordering is ignored and NuGet uses the package from whichever source responds first.</span></span>
      - <span data-ttu-id="4ffc7-148">En general, el orden en el que NuGet comprueba los orígenes no es especialmente significativo, porque cualquier paquete con un número de versión y un identificador específico es exactamente el mismo independientemente del origen en el que se encuentre.</span><span class="sxs-lookup"><span data-stu-id="4ffc7-148">In general, the order in which NuGet checks sources isn't particularly meaningful, because any given package with a specific identifier and version number is exactly the same on whatever source it's found.</span></span>

1. <span data-ttu-id="4ffc7-149">(Todas las herramientas excepto `nuget.exe`) Guarde una copia del paquete y otra información en la carpeta *http-cache*, tal y como se describe en [Administración de paquetes globales y carpetas de caché](managing-the-global-packages-and-cache-folders.md).</span><span class="sxs-lookup"><span data-stu-id="4ffc7-149">(All tools except `nuget.exe`) Save a copy of the package and other information in the *http-cache* folder as described on [Managing the global packages and cache folders](managing-the-global-packages-and-cache-folders.md).</span></span>

1. <span data-ttu-id="4ffc7-150">Si se descarga, instale el paquete en la carpeta *global-packages* por usuario.</span><span class="sxs-lookup"><span data-stu-id="4ffc7-150">If downloaded, install the package into the per-user *global-packages* folder.</span></span> <span data-ttu-id="4ffc7-151">NuGet crea una subcarpeta para cada identificador de paquete y luego crea subcarpetas para cada versión instalada del paquete.</span><span class="sxs-lookup"><span data-stu-id="4ffc7-151">NuGet creates a subfolder for each package identifier, then creates subfolders for each installed version of the package.</span></span>

1. <span data-ttu-id="4ffc7-152">Actualice otros archivos y carpetas del proyecto:</span><span class="sxs-lookup"><span data-stu-id="4ffc7-152">Update other project files and folders:</span></span>

    - <span data-ttu-id="4ffc7-153">En el caso de los proyectos con PackageReference, actualice el gráfico de dependencias de paquetes almacenado en `obj/project.assets.json`.</span><span class="sxs-lookup"><span data-stu-id="4ffc7-153">For projects using PackageReference, update the package dependency graph stored in `obj/project.assets.json`.</span></span> <span data-ttu-id="4ffc7-154">El contenido mismo del paquete no se copia en ninguna carpeta del proyecto.</span><span class="sxs-lookup"><span data-stu-id="4ffc7-154">Package contents themselves are not copied into any project folder.</span></span>
    - <span data-ttu-id="4ffc7-155">Para los proyectos con `packages.config`, copie los elementos del paquete expandido que coincidan con la plataforma de destino del proyecto en la carpeta `packages` del proyecto.</span><span class="sxs-lookup"><span data-stu-id="4ffc7-155">For projects using `packages.config`, copy those parts of the expanded package that match the project's target framework into project's `packages` folder.</span></span> <span data-ttu-id="4ffc7-156">(Cuando se usa `nuget install`, se copia todo el paquete expandido porque `nuget.exe` no examina los archivos de proyecto para identificar la plataforma de destino).</span><span class="sxs-lookup"><span data-stu-id="4ffc7-156">(When using `nuget install`, the entire expanded package is copied because `nuget.exe` does not examine project files to identify the target framework.)</span></span>
    - <span data-ttu-id="4ffc7-157">Actualice `app.config` o `web.config` si el paquete utiliza [transformaciones de archivos de origen y configuración](../create-packages/source-and-config-file-transformations.md).</span><span class="sxs-lookup"><span data-stu-id="4ffc7-157">Update `app.config` and/or `web.config` if the package uses [source and config file transformations](../create-packages/source-and-config-file-transformations.md).</span></span>

1. <span data-ttu-id="4ffc7-158">Instale las dependencias de nivel inferior si no se encuentran ya en el proyecto.</span><span class="sxs-lookup"><span data-stu-id="4ffc7-158">Install any down-level dependencies if not already present in the project.</span></span> <span data-ttu-id="4ffc7-159">Puede que este proceso actualice las versiones del paquete en el proceso, tal y como se describe en el artículo sobre [resolución de dependencias](../consume-packages/dependency-resolution.md).</span><span class="sxs-lookup"><span data-stu-id="4ffc7-159">This process might update package versions in the process, as described in [Dependency Resolution](../consume-packages/dependency-resolution.md).</span></span>

1. <span data-ttu-id="4ffc7-160">(Solo visual Studio) Muestre al archivo Léame del paquete, si está disponible, en una ventana de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="4ffc7-160">(Visual Studio only) Display the package's readme file, if available, in a Visual Studio window.</span></span>

## <a name="related-articles"></a><span data-ttu-id="4ffc7-161">Artículos relacionados</span><span class="sxs-lookup"><span data-stu-id="4ffc7-161">Related articles</span></span>

- [<span data-ttu-id="4ffc7-162">Información general y flujo de trabajo del consumo de paquetes</span><span class="sxs-lookup"><span data-stu-id="4ffc7-162">Overview and workflow of package consumption</span></span>](../consume-packages/overview-and-workflow.md)
- [<span data-ttu-id="4ffc7-163">Búsqueda y selección de paquetes</span><span class="sxs-lookup"><span data-stu-id="4ffc7-163">Finding and choosing packages</span></span>](../consume-packages/finding-and-choosing-packages.md)
- [<span data-ttu-id="4ffc7-164">Administración de las carpetas de paquetes globales, de caché y temporales de NuGet</span><span class="sxs-lookup"><span data-stu-id="4ffc7-164">Managing the NuGet cache and global-packages folders</span></span>](managing-the-global-packages-and-cache-folders.md)
- [<span data-ttu-id="4ffc7-165">Configuración del comportamiento de NuGet</span><span class="sxs-lookup"><span data-stu-id="4ffc7-165">Configuring NuGet behavior</span></span>](../consume-packages/configuring-nuget-behavior.md)
